<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Menús</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h2>Nuestros Menús</h2>
        <table id="menuTable">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Descripción</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody>
                <!-- Filas de la tabla se generarán dinámicamente -->
            </tbody>
        </table>
        <button onclick="window.location.href='lobby.html'">Volver al Lobby</button>
 
    </div>

    <script>
        async function loadMenus() {
            try {
                const response = await fetch("https://127.0.0.1:3001/api/menus/getAll");
                const result = await response.json(); // Obtener el objeto completo
                const menus = result.data; // Acceder al array de menús

                const tableBody = document.querySelector("#menuTable tbody");
                tableBody.innerHTML = menus
                    .map(
                        (menu) => `
                        <tr>
                            <td>${menu.name}</td>
                            <td>${menu.description}</td>
                            <td>$${menu.price}</td>
                        </tr>`
                    )
                    .join("");
            } catch (error) {
                console.error("Error al cargar los menús:", error);
            }
        }

        // Llamar a la función para cargar los menús al cargar la página
        window.onload = loadMenus;
    </script>
</body>
</html>
